<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emergency Questions Generator</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles for aesthetic enhancements */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f7f7;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        /* Custom background gradient for the card */
        .card-bg {
            background: linear-gradient(135deg, #1f2937, #374151); /* Dark blue/gray gradient */
        }
        /* Style for the question text for readability */
        #question-display {
            min-height: 120px; /* Ensure space even with short questions */
        }
    </style>
</head>
<body>

    <!-- ============================================= -->
    <!-- 1. STATIC QUESTION DATA SOURCE -->
    <!-- This data is now the permanent source for the application. -->
    <!-- ============================================= -->
    <script>
        // This is the static data source, making the app self-contained.
        window.questionData = {
            'Deep Thoughts': [
                "If you could have dinner with one historical figure, who would it be and why?",
                "What is the most beautiful thing you have ever seen in person?",
                "If your life had a theme song, what would it be and why?",
                "What is one thing you believe to be true that most people would disagree with?",
                "If you had unlimited resources, what global problem would you try to solve first?",
                "What is a skill you think everyone should learn?",
                "What is one dream you've given up on, and what replaced it?"
            ],
            'Hypothetical Scenarios': [
                "If you woke up tomorrow with a new, random skill, what would it be?",
                "You have the power to eradicate one common annoyance forever. Which one do you choose?",
                "If animals could talk, which one would be the rudest and what would it say?",
                "If you could only eat one food for the rest of your life, what would it be?",
                "A time machine appears, but it only works once. Where and when do you go?",
                "You must exchange your body with one fictional character for a week. Who is it?",
                "If you could teleport, would you use it for practical things or fun things?"
            ],
            'Trivial & Fun': [
                "What's the strangest food combination you secretly enjoy?",
                "What is your go-to karaoke song (even if you've never sung it publicly)?",
                "If you had to wear one color for the rest of your life, what would it be?",
                "What is the most useless superpower you can imagine?",
                "What is the most memorable line from a movie or TV show?",
                "What is your favorite sound in the world?",
                "What's a piece of common knowledge you only recently learned?"
            ],
            'Dilemmas & Morals': [
                "Would you rather always be 10 minutes late or always be 20 minutes early?",
                "Would you rather live without music or live without movies?",
                "Would you rather fight 100 duck-sized horses or 1 horse-sized duck?",
                "You find a wallet with $10,000 and the owner's information. What do you do?",
                "Would you prefer to be able to instantly learn any language, or play any instrument masterfully?",
                "Would you rather have a perfect memory or be able to perfectly forget things?",
                "A friend tells you a big secret, but you know it will hurt them if you keep it. What do you do?"
            ]
        };
    </script>


    <!-- ============================================= -->
    <!-- 2. APPLICATION LOGIC (Static Data Loader) -->
    <!-- ============================================= -->
    <script>
        // --- DOM Elements ---
        const categorySelect = document.getElementById('category-select');
        const questionText = document.getElementById('question-text');
        const nextButton = document.getElementById('next-button');
        const loadingStatus = document.getElementById('loading-status');


        // State for the generator
        let currentCategory = '';
        let availableQuestions = [];

        // --- Question Generator Functions ---

        /**
         * Populates the category dropdown with options from the static data.
         */
        function populateCategories() {
            const data = window.questionData;
            const categories = Object.keys(data).sort();
            
            categorySelect.innerHTML = '';
            
            const defaultOption = document.createElement('option');
            defaultOption.value = '';
            defaultOption.textContent = categories.length > 0 ? '--- Choose a Category ---' : '--- No Questions Available ---';
            defaultOption.disabled = true;
            defaultOption.selected = true;
            categorySelect.appendChild(defaultOption);

            categories.forEach(category => {
                const option = document.createElement('option');
                option.value = category;
                option.textContent = category;
                categorySelect.appendChild(option);
            });
            
            // Hide loading status once categories are ready
            loadingStatus.classList.add('hidden');
        }

        /**
         * Updates the current category and loads the corresponding questions.
         */
        function selectCategory(categoryName, resetQuestion = true) {
            currentCategory = categoryName;
            availableQuestions = window.questionData[categoryName] || [];
            
            if (availableQuestions.length > 0) {
                nextButton.disabled = false;
                if (resetQuestion) {
                    displayRandomQuestion();
                }
            } else {
                questionText.textContent = "No questions found for this category. Please select another.";
                nextButton.disabled = true;
            }
        }

        /**
         * Selects and displays a random question from the current category's list.
         */
        function displayRandomQuestion() {
            if (availableQuestions.length === 0) {
                questionText.textContent = "Please select a category first!";
                nextButton.disabled = true;
                return;
            }

            const randomIndex = Math.floor(Math.random() * availableQuestions.length);
            const question = availableQuestions[randomIndex];

            // Simple transition effect for the text
            questionText.classList.remove('opacity-100');
            questionText.classList.add('opacity-0');

            setTimeout(() => {
                questionText.textContent = question;
                questionText.classList.remove('opacity-0');
                questionText.classList.add('opacity-100');
            }, 100);
        }

        // --- Initialization and Event Listeners ---

        window.onload = function() {
            // Since we are using static data, we initialize the UI immediately.
            populateCategories();
            
            // Initial button state
            nextButton.disabled = true;
            questionText.textContent = "Select a category to start generating questions!";

            // Generator Event Listeners
            categorySelect.addEventListener('change', (event) => selectCategory(event.target.value));
            nextButton.addEventListener('click', displayRandomQuestion);
        };
    </script>

    <div id="app" class="w-full max-w-lg mx-auto p-4 sm:p-6 lg:p-8">
        
        <!-- === Generator View === -->
        <div id="generator-view" class="view">
            <div class="card-bg p-8 rounded-2xl shadow-2xl text-white">
                
                <header class="mb-6 text-center">
                    <h1 class="text-3xl sm:text-4xl font-extrabold tracking-tight">Emergency Questions</h1>
                    <p class="text-gray-300 mt-2 text-sm sm:text-base">Break the ice. Spark a conversation.</p>
                </header>
                
                <!-- Loading Status -->
                <p id="loading-status" class="text-center text-sm text-yellow-500 mb-4">Loading static data...</p>

                <!-- Category Selector Dropdown -->
                <div class="mb-6">
                    <label for="category-select" class="block text-sm font-medium mb-2 text-gray-200">Select Category:</label>
                    <select id="category-select" class="w-full p-3 rounded-lg bg-gray-700 border border-gray-600 text-white focus:ring-blue-500 focus:border-blue-500 cursor-pointer shadow-inner transition duration-150">
                        <option value="">--- Loading Categories ---</option>
                    </select>
                </div>

                <!-- Question Display Area -->
                <div id="question-display" class="bg-gray-800 p-6 rounded-xl shadow-inner mb-8 flex items-center justify-center text-center">
                    <p id="question-text" class="text-xl sm:text-2xl font-semibold text-yellow-300 transition duration-300 ease-in-out">
                        Ready to go!
                    </p>
                </div>

                <!-- Action Button -->
                <button id="next-button" 
                        class="w-full py-3 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-xl shadow-lg 
                            transform transition duration-150 hover:scale-[1.03] active:scale-95 
                            focus:outline-none focus:ring-4 focus:ring-blue-500 focus:ring-opacity-50"
                        disabled>
                    Next Question
                </button>
            </div>
        </div>
        
    </div>
</body>
</html>
